# =============================================================================
# Storage Account Module Configuration
# =============================================================================
# This file contains configuration settings for the storage account module
# deployment scripts and examples.
# =============================================================================

# Default configuration values
DEFAULT_LOCATION="East US 2"
DEFAULT_RESOURCE_GROUP="rg-storage-test"
DEFAULT_SKU="Standard_ZRS"
DEFAULT_KIND="StorageV2"

# Security baseline configuration
SECURITY_BASELINE_CONFIG="
supportsHttpsTrafficOnly=true
minimumTlsVersion=TLS1_2
allowSharedKeyAccess=false
allowBlobPublicAccess=false
allowCrossTenantReplication=false
defaultToOAuthAuthentication=true
publicNetworkAccess=Disabled
allowedCopyScope=AAD
networkAclsDefaultAction=Deny
networkAclsBypass=AzureServices
encryptionKeySource=Microsoft.Storage
requireInfrastructureEncryption=true
managedIdentityType=SystemAssigned
sasExpirationAction=Block
keyExpirationPeriodInDays=90
"

# Data Lake configuration
DATALAKE_CONFIG="
isHnsEnabled=true
accessTier=Hot
supportsHttpsTrafficOnly=true
minimumTlsVersion=TLS1_2
allowSharedKeyAccess=false
allowBlobPublicAccess=false
defaultToOAuthAuthentication=true
publicNetworkAccess=Disabled
networkAclsDefaultAction=Deny
networkAclsBypass=AzureServices
managedIdentityType=SystemAssigned
"

# SFTP configuration
SFTP_CONFIG="
isSftpEnabled=true
isLocalUserEnabled=true
enableExtendedGroups=true
isHnsEnabled=true
supportsHttpsTrafficOnly=true
minimumTlsVersion=TLS1_2
managedIdentityType=SystemAssigned
"

# Compliance configurations
SOX_COMPLIANCE_CONFIG="
immutableStorageEnabled=true
immutabilityPeriodSinceCreationInDays=2555
immutabilityPolicyState=Locked
sasExpirationPeriod=01.00:00:00
sasExpirationAction=Block
keyExpirationPeriodInDays=90
allowCrossTenantReplication=false
publicNetworkAccess=Disabled
"

HIPAA_COMPLIANCE_CONFIG="
encryptionKeySource=Microsoft.Keyvault
requireInfrastructureEncryption=true
allowSharedKeyAccess=false
publicNetworkAccess=Disabled
networkAclsDefaultAction=Deny
minimumTlsVersion=TLS1_2
allowBlobPublicAccess=false
"

# Test scenarios
TEST_SCENARIOS="
basic
secure
datalake
premium
routing
sftp
compliance-sox
compliance-hipaa
"

# Validation rules
VALIDATION_RULES="
storage_account_name_min_length=3
storage_account_name_max_length=24
storage_account_name_pattern=^[a-z0-9]+$
required_tags=Environment,Purpose,Owner
security_minimum_tls=TLS1_2
"

# Deployment environments
ENVIRONMENTS="
development:
  - resource_prefix: dev
  - allowed_ip_ranges: 192.168.1.0/24,10.0.0.0/16
  - backup_retention: 7
  - immutability_days: 30

staging:
  - resource_prefix: stg
  - allowed_ip_ranges: 192.168.0.0/16
  - backup_retention: 30
  - immutability_days: 365

production:
  - resource_prefix: prd
  - allowed_ip_ranges: corporate_network_only
  - backup_retention: 2555
  - immutability_days: 2555
  - require_customer_managed_keys: true
"

# Monitoring and alerting
MONITORING_CONFIG="
enable_diagnostic_settings=true
log_analytics_retention_days=90
enable_security_alerts=true
enable_performance_alerts=true
alert_email_recipients=admin@company.com
"
