{
  "$schema": "https://schema.management.azure.com/schemas/2019-04-01/deploymentParameters.json#",
  "contentVersion": "1.0.0.0",
  "parameters": {
    "openAIAccountName": {
      "value": "mycompany-openai-prod"
    },
    "location": {
      "value": "eastus"
    },
    "skuName": {
      "value": "S0"
    },
    "customSubDomainName": {
      "value": "mycompany-openai-prod"
    },
    "modelDeployments": {
      "value": [
        {
          "name": "gpt-4o",
          "model": {
            "format": "OpenAI",
            "name": "gpt-4o",
            "version": "2024-08-06"
          },
          "capacity": 10,
          "raiPolicyName": "strict-enterprise-policy"
        },
        {
          "name": "gpt-4o-mini",
          "model": {
            "format": "OpenAI",
            "name": "gpt-4o-mini",
            "version": "2024-07-18"
          },
          "capacity": 50,
          "raiPolicyName": "strict-enterprise-policy"
        },
        {
          "name": "text-embedding-3-small",
          "model": {
            "format": "OpenAI",
            "name": "text-embedding-3-small",
            "version": "1"
          },
          "capacity": 120,
          "raiPolicyName": ""
        },
        {
          "name": "text-embedding-3-large",
          "model": {
            "format": "OpenAI",
            "name": "text-embedding-3-large",
            "version": "1"
          },
          "capacity": 120,
          "raiPolicyName": ""
        },
        {
          "name": "dall-e-3",
          "model": {
            "format": "OpenAI",
            "name": "dall-e-3",
            "version": "3.0"
          },
          "capacity": 2,
          "raiPolicyName": "strict-enterprise-policy"
        }
      ]
    },
    "publicNetworkAccess": {
      "value": "Disabled"
    },
    "disableLocalAuth": {
      "value": true
    },
    "networkAclsDefaultAction": {
      "value": "Deny"
    },
    "allowedIpAddresses": {
      "value": []
    },
    "allowedSubnetIds": {
      "value": []
    },
    "enableAdvancedContentFiltering": {
      "value": true
    },
    "customRaiPolicies": {
      "value": [
        {
          "name": "strict-enterprise-policy",
          "properties": {
            "basePolicyName": "Microsoft.Default",
            "completionBlockLists": [
              {
                "blockListName": "enterprise-blocklist",
                "enabled": true
              }
            ],
            "promptBlockLists": [
              {
                "blockListName": "enterprise-blocklist",
                "enabled": true
              }
            ],
            "filters": [
              {
                "name": "hate",
                "blocking": true,
                "enabled": true,
                "severityThreshold": "low"
              },
              {
                "name": "sexual",
                "blocking": true,
                "enabled": true,
                "severityThreshold": "low"
              },
              {
                "name": "violence",
                "blocking": true,
                "enabled": true,
                "severityThreshold": "low"
              },
              {
                "name": "self_harm",
                "blocking": true,
                "enabled": true,
                "severityThreshold": "low"
              }
            ]
          }
        }
      ]
    },
    "enablePrivateEndpoint": {
      "value": true
    },
    "vnetId": {
      "value": "/subscriptions/{subscription-id}/resourceGroups/networking-rg/providers/Microsoft.Network/virtualNetworks/ai-vnet"
    },
    "privateEndpointSubnetId": {
      "value": "/subscriptions/{subscription-id}/resourceGroups/networking-rg/providers/Microsoft.Network/virtualNetworks/ai-vnet/subnets/private-endpoints"
    },
    "privateEndpointName": {
      "value": ""
    },
    "privateEndpointNameSuffix": {
      "value": ""
    },
    "managedIdentityType": {
      "value": "SystemAssigned"
    },
    "userAssignedIdentities": {
      "value": []
    },
    "enableRbacAssignments": {
      "value": true
    },
    "openAIAdministrators": {
      "value": [
        {
          "principalId": "00000000-0000-0000-0000-000000000000",
          "principalType": "Group",
          "displayName": "AI Platform Administrators"
        }
      ]
    },
    "openAIDevelopers": {
      "value": [
        {
          "principalId": "11111111-1111-1111-1111-111111111111",
          "principalType": "Group",
          "displayName": "AI Developers"
        }
      ]
    },
    "openAIUsers": {
      "value": [
        {
          "principalId": "22222222-2222-2222-2222-222222222222",
          "principalType": "Group",
          "displayName": "AI Applications"
        }
      ]
    },
    "enableCustomerManagedEncryption": {
      "value": true
    },
    "keyVaultId": {
      "value": "/subscriptions/{subscription-id}/resourceGroups/security-rg/providers/Microsoft.KeyVault/vaults/mycompany-kv-prod"
    },
    "keyVaultKeyIdentifier": {
      "value": "https://mycompany-kv-prod.vault.azure.net/keys/openai-encryption-key/latest"
    },
    "encryptionIdentityId": {
      "value": "/subscriptions/{subscription-id}/resourceGroups/security-rg/providers/Microsoft.ManagedIdentity/userAssignedIdentities/openai-encryption-identity"
    },
    "enableDiagnostics": {
      "value": true
    },
    "logAnalyticsWorkspaceId": {
      "value": "/subscriptions/{subscription-id}/resourceGroups/monitoring-rg/providers/Microsoft.OperationalInsights/workspaces/ai-logs"
    },
    "diagnosticsStorageAccountId": {
      "value": "/subscriptions/{subscription-id}/resourceGroups/monitoring-rg/providers/Microsoft.Storage/storageAccounts/ailogs{environment}"
    },
    "eventHubAuthorizationRuleId": {
      "value": ""
    },
    "eventHubName": {
      "value": ""
    },
    "diagnosticLogsCategories": {
      "value": [
        "Audit",
        "RequestResponse",
        "Trace"
      ]
    },
    "diagnosticMetricsCategories": {
      "value": [
        "AllMetrics"
      ]
    },
    "diagnosticLogsRetentionInDays": {
      "value": 90
    },
    "tags": {
      "value": {
        "Environment": "Production",
        "Project": "Enterprise AI Platform",
        "CostCenter": "IT-AI-001",
        "DataClassification": "Confidential",
        "Compliance": "SOC2,HIPAA,GDPR",
        "BusinessUnit": "AI Research",
        "Owner": "ai-platform-team@company.com",
        "MaintenanceWindow": "Sunday 02:00-04:00 UTC"
      }
    },
    "resourceSuffix": {
      "value": "-001"
    }
  }
}
